(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{280:function(t,a,s){"use strict";s.r(a);var n=s(4),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"æµ…è°ˆvue3-0å’Œvue2-0çš„åŒºåˆ«"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æµ…è°ˆvue3-0å’Œvue2-0çš„åŒºåˆ«"}},[t._v("#")]),t._v(" æµ…è°ˆvue3.0å’Œvue2.0çš„åŒºåˆ«")]),t._v(" "),s("p",[s("img",{attrs:{src:"http://p3.pstatp.com/large/pgc-image/6a31b68c153340e3aebbb43655fd5490",alt:"center-img"}})]),t._v(" "),s("p",[t._v("è¿›å…¥2020å¹´ï¼Œç¦»vue3.0æ­£å¼ç‰ˆå‘å¸ƒçš„æ—¶é—´è¶Šæ¥è¶Šè¿‘äº†ã€‚ä»Šå¤©ï¼Œå€ŸåŠ©å°¤é›¨æºªå¤§å¤§æå‰å‘å¸ƒçš„vue3.0æºç ï¼Œè€Kä¸ºå¤§å®¶æ•´ç†ä¸€ä¸‹vue3.0å’Œvue2.0çš„åŒºåˆ«ã€‚")]),t._v(" "),s("p",[t._v("vue3çš„å˜åŒ–å¯ä»¥æ€»ç»“ä¸ºä»¥ä¸‹å‡ ç‚¹ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("æ›´å°")]),t._v(" "),s("li",[t._v("æ›´å¿«")]),t._v(" "),s("li",[t._v("åŠ å¼ºtypescriptæ”¯æŒ")]),t._v(" "),s("li",[t._v("Apiä¸€è‡´æ€§")]),t._v(" "),s("li",[t._v("æé«˜å¯ç»´æŠ¤èƒ½åŠ›")]),t._v(" "),s("li",[t._v("å¼€æ”¾æ›´å¤šåº•å±‚åŠŸèƒ½")])]),t._v(" "),s("p",[t._v("å…¶ä¸­å‰ä¸‰ç‚¹æ˜¯æœ€ä¸»è¦çš„å˜åŒ–ã€‚")]),t._v(" "),s("h3",{attrs:{id:"æ›´å°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ›´å°"}},[t._v("#")]),t._v(" æ›´å°")]),t._v(" "),s("p",[t._v("vue2é‡‡ç”¨é¢å‘å¯¹è±¡ç¼–ç¨‹çš„æ€æƒ³ï¼Œvue3åˆ™é‡‡ç”¨å‡½æ•°å¼ç¼–ç¨‹çš„æ€æƒ³ã€‚")]),t._v(" "),s("p",[t._v("vue2æºç ä¸­ä»£ç æ˜¯è¿™æ ·ç»„ç»‡çš„ï¼š")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("vue")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \nvue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("init "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n")])])]),s("p",[t._v("vue3æºç ä¸­æ˜¯è¿™æ ·ç»„ç»‡çš„ï¼š")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//ç›‘å¬æ–¹æ³•ï¼š")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("watch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//æ¸²æŸ“æ–¹æ³•ï¼š")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("åŸå› ï¼šå……åˆ†åˆ©ç”¨å‡½æ•°å¼ç¼–ç¨‹ç»„åˆå¤§äºç»§æ‰¿çš„ä¼˜åŠ¿ï¼Œé‡‡ç”¨å‡½æ•°å¼ç¼–ç¨‹æ›´åˆ©äºé€»è¾‘åŠŸèƒ½çš„å¤ç”¨ï¼Œwebpackæ‰“åŒ…æ—¶æ›´æœ‰åˆ©äºtree-shakingï¼Œæ›´åˆ©äºä»£ç çš„å‹ç¼©ï¼Œæ›´åˆ©äºè¿”å›å€¼ç±»å‹æ ¡éªŒï¼Œå‹ç¼©åçš„æ–‡ä»¶ä½“ç§¯æ›´å°ã€‚")]),t._v(" "),s("h3",{attrs:{id:"æ›´å¿«"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ›´å¿«"}},[t._v("#")]),t._v(" æ›´å¿«")]),t._v(" "),s("p",[t._v("vue3ä¿®æ”¹äº†è™šæ‹Ÿdomçš„ç®—æ³•ï¼ˆå³diffç®—æ³• - æ¯”å¯¹è™šæ‹Ÿdomæœ‰æ²¡æœ‰å˜åŒ–ï¼‰ã€‚")]),t._v(" "),s("p",[t._v("vue2éœ€è¦diffæ‰€æœ‰çš„è™šæ‹ŸdomèŠ‚ç‚¹ï¼Œè€Œvue3å‚è€ƒäº†SVELTEæ¡†æ¶çš„æ€æƒ³ï¼Œå…ˆåˆ†å±‚æ¬¡-ç„¶åæ‰¾ä¸å˜åŒ–çš„å±‚-é’ˆå¯¹å˜åŒ–çš„å±‚è¿›è¡Œdiffï¼Œæ›´æ–°é€Ÿåº¦ä¸ä¼šå†å—templateå¤§å°çš„å½±å“ï¼Œè€Œæ˜¯ä»…ç”±å¯å˜çš„å†…å®¹å†³å®šã€‚ç»è¿‡å°¤é›¨æºªè‡ªå·±çš„æµ‹è¯•ï¼Œå¤§æ¦‚æœ‰6å€çš„é€Ÿåº¦æå‡ã€‚")]),t._v(" "),s("h3",{attrs:{id:"åŠ å¼ºtypescriptæ”¯æŒ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åŠ å¼ºtypescriptæ”¯æŒ"}},[t._v("#")]),t._v(" åŠ å¼ºtypescriptæ”¯æŒ")]),t._v(" "),s("p",[t._v("vue3çš„æºç å¼€å§‹é‡‡ç”¨äº†tsè¿›è¡Œç¼–å†™ï¼Œç»™å¼€å‘è€…ä¹Ÿæä¾›äº†æ”¯æŒtsçš„å¼€å‘æ¨¡å¼ã€‚")]),t._v(" "),s("h3",{attrs:{id:"apiä¸€è‡´æ€§"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#apiä¸€è‡´æ€§"}},[t._v("#")]),t._v(" Apiä¸€è‡´æ€§")]),t._v(" "),s("p",[t._v("vue3æœ€å¼€å§‹çš„ç‰ˆæœ¬å¯ä»¥å®Œç¾å…¼å®¹vue2çš„apiã€‚")]),t._v(" "),s("h3",{attrs:{id:"æé«˜å¯ç»´æŠ¤èƒ½åŠ›"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æé«˜å¯ç»´æŠ¤èƒ½åŠ›"}},[t._v("#")]),t._v(" æé«˜å¯ç»´æŠ¤èƒ½åŠ›")]),t._v(" "),s("p",[t._v("ä»æºç çš„å±‚é¢ä¸Šæä¾›äº†æ›´å¤šçš„å¯ç»´æŠ¤èƒ½åŠ›ã€‚")]),t._v(" "),s("h3",{attrs:{id:"å¼€æ”¾æ›´å¤šåº•å±‚åŠŸèƒ½"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¼€æ”¾æ›´å¤šåº•å±‚åŠŸèƒ½"}},[t._v("#")]),t._v(" å¼€æ”¾æ›´å¤šåº•å±‚åŠŸèƒ½")]),t._v(" "),s("p",[t._v("æŠŠæ›´å¤šçš„åº•å±‚åŠŸèƒ½å¼€æ”¾å‡ºæ¥ï¼Œæ¯”å¦‚renderã€ä¾èµ–æ”¶é›†åŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥æ›´å¥½çš„è¿›è¡Œè‡ªå®šä¹‰åŒ–å¼€å‘ï¼Œå¯ä»¥å†™æ›´å¤šçš„é«˜é˜¶ç»„ä»¶ã€‚")]),t._v(" "),s("p",[t._v("æœ€åæˆ‘ä»¬å†è°ˆè°ˆä¸¤è€…åœ¨æ•°æ®åŒå‘ç»‘å®šæ–¹é¢çš„åŒºåˆ«ã€‚")]),t._v(" "),s("h3",{attrs:{id:"æ•°æ®åŒå‘ç»‘å®š"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ•°æ®åŒå‘ç»‘å®š"}},[t._v("#")]),t._v(" æ•°æ®åŒå‘ç»‘å®š")]),t._v(" "),s("p",[t._v("å…³äºæ•°æ®åŒå‘ç»‘å®šçš„å®ç°ï¼Œvue2 é‡‡ç”¨äº†definePropertyï¼Œè€Œvue3åˆ™é‡‡ç”¨äº†proxyã€‚")]),t._v(" "),s("p",[t._v("ä¼˜ç‚¹ï¼š")]),t._v(" "),s("ol",[s("li",[t._v("ä½¿ç”¨proxyä¸æ±¡æŸ“æºå¯¹è±¡ï¼Œä¼šè¿”å›ä¸€ä¸ªæ–°å¯¹è±¡ï¼ŒdefinePropertyæ˜¯æ³¨å…¥å‹çš„ï¼Œä¼šç ´åæºå¯¹è±¡")]),t._v(" "),s("li",[t._v("ä½¿ç”¨proxyåªéœ€è¦ç›‘å¬æ•´ä¸ªæºå¯¹è±¡çš„å±æ€§ï¼Œä¸éœ€è¦å¾ªç¯ä½¿ç”¨Object.definePropertyç›‘å¬å¯¹è±¡çš„å±æ€§")]),t._v(" "),s("li",[t._v("ä½¿ç”¨proxyå¯ä»¥è·å–åˆ°å¯¹è±¡å±æ€§çš„æ›´å¤šå‚æ•°ï¼Œä½¿ç”¨definePropertyåªèƒ½è·å–åˆ°ç›‘å¬å±æ€§çš„æ–°å€¼newvalue")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* vue2.0*/")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("123")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" c"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("444")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nObject"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineProperty")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'b'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("set")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("newvalue")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'i am be set'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//åªèƒ½è·å–åˆ°newvalueè¿™ä¸ªå‚æ•°")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* vue3.0 */")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("123")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" c"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("444")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" newa "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Proxy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("set")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("target"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("newvalue")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n        console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("newvalue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å¯ä»¥è·å–åˆ°target,key,newvalueä¸‰ä¸ªå‚æ•°")]),t._v("\n")])])]),s("p",[t._v("å¸Œæœ›æ•´ç†çš„è¿™äº›å†…å®¹å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ã€‚æœ€åè€Kæå‰ç¥å¤§å®¶æ˜¥èŠ‚å¿«ä¹ï¼ï¼ï¼ğŸ˜„ğŸ˜„ğŸ˜„")]),t._v(" "),s("p",[s("img",{attrs:{src:"http://p1.pstatp.com/large/pgc-image/b72566a275a4406fb91f0cc35c3c0d10",alt:"center-img"}})]),t._v(" "),s("hr"),t._v(" "),s("p",[t._v("æœ¬æ–‡ä¸ºåŸåˆ›å†…å®¹ï¼Œè‹¥è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼Œè½¬å‘æ„Ÿæ¿€ä¸å°½ã€‚")]),t._v(" "),s("p",[s("img",{attrs:{src:"http://p1.pstatp.com/large/pgc-image/d1d0f956387e4884abe52b3a75ddfd33",alt:"center-img"}})])])}),[],!1,null,null,null);a.default=e.exports}}]);