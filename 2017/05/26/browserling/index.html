<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>10个容易忽略的前端兼容性问题 | 大前端学堂</title>
    <meta name="description" content="兼容问题一直是前端工程师们的梦魇。今天，老K为大家总结10个容易忽略的前端兼容性问题，供大家参考。">
    <link rel="preload" href="/blog/assets/css/0.styles.27c0ab4f.css" as="style"><link rel="preload" href="/blog/assets/js/app.c9f71c43.js" as="script"><link rel="preload" href="/blog/assets/js/4.6765512c.js" as="script"><link rel="preload" href="/blog/assets/js/5.a23d6b7f.js" as="script"><link rel="preload" href="/blog/assets/js/15.59ca7360.js" as="script"><link rel="prefetch" href="/blog/assets/js/1.72ff1fc8.js"><link rel="prefetch" href="/blog/assets/js/10.b6e12b8d.js"><link rel="prefetch" href="/blog/assets/js/11.5d397b4b.js"><link rel="prefetch" href="/blog/assets/js/12.d2b5af22.js"><link rel="prefetch" href="/blog/assets/js/13.ab61fe46.js"><link rel="prefetch" href="/blog/assets/js/14.33a8d99a.js"><link rel="prefetch" href="/blog/assets/js/16.7704985d.js"><link rel="prefetch" href="/blog/assets/js/6.120ffd19.js"><link rel="prefetch" href="/blog/assets/js/7.4c7fe49a.js"><link rel="prefetch" href="/blog/assets/js/8.7c3da761.js"><link rel="prefetch" href="/blog/assets/js/9.fbaf6afd.js"><link rel="prefetch" href="/blog/assets/js/vuejs-paginate.d53f7e69.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.27c0ab4f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuperess-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/blog/" class="nav-link home-link">大前端学堂 </a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/blog/" class="nav-link">Blog</a></li><li class="nav-item"><a href="/blog/tag/" class="nav-link">Tags</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/blog/" class="nav-link mobile-home-link">大前端学堂 </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/blog/" class="nav-link">Blog</a></li><li class="mobile-nav-item"><a href="/blog/tag/" class="nav-link">Tags</a></li></ul></div></div></div> <div class="content-wrapper"><div id="vuperess-theme-blog__post-layout"><div class="vuepress-blog-theme-content"><div class="content__default"><h1 id="_10个容易忽略的前端兼容性问题"><a href="#_10个容易忽略的前端兼容性问题" class="header-anchor">#</a> 10个容易忽略的前端兼容性问题</h1> <p><img src="http://p3.pstatp.com/large/2c3b00027daba3e90ebc" alt="An image"></p> <p>兼容问题一直是前端工程师们的梦魇。今天，老K为大家总结10个容易忽略的前端兼容性问题，供大家参考。</p> <h2 id="在ios8系统中，用h5与app通信不能传带有复杂链接符的字符串。"><a href="#在ios8系统中，用h5与app通信不能传带有复杂链接符的字符串。" class="header-anchor">#</a> 在ios8系统中，用h5与APP通信不能传带有复杂链接符的字符串。</h2> <p>在移动端开发中，经常需要h5与APP进行交互。这时就需要前端和APP开发人员双方规定一种传输协议。在协议中可以添加与APP交互需要的参数。但是在IOS8系统中，不支持参数中有复杂链接符，比如JSON格式的字符串、&amp;等等。目前为止，下划线是唯一支持的连接符。</p> <h2 id="safari中伪元素不支持css3动画。"><a href="#safari中伪元素不支持css3动画。" class="header-anchor">#</a> safari中伪元素不支持CSS3动画。</h2> <p>在项目中肯定有很多前端开发人员使用css的伪元素属性进行页面构建。虽然这种方式很方便，但是在safari中并不支持伪元素的CSS3动画效果。</p> <h2 id="safari中当一个元素的高度为零时，下边的同级元素的上外边距会覆盖这个元素。"><a href="#safari中当一个元素的高度为零时，下边的同级元素的上外边距会覆盖这个元素。" class="header-anchor">#</a> safari中当一个元素的高度为零时，下边的同级元素的上外边距会覆盖这个元素。</h2> <p>在IE、chromet、FF中，即使一个元素的高度为0，也会把它当作块级元素看待，在页面中占据相应的位置。但是在safari中，高度为0的元素会被直接忽略。</p> <h2 id="ios系统中在移动浏览器的页面中给按钮加js事件，其按钮必须是原生html按钮或者由-a-标签自定义构成。"><a href="#ios系统中在移动浏览器的页面中给按钮加js事件，其按钮必须是原生html按钮或者由-a-标签自定义构成。" class="header-anchor">#</a> ios系统中在移动浏览器的页面中给按钮加JS事件，其按钮必须是原生HTML按钮或者由<code>&lt;a&gt;</code>标签自定义构成。</h2> <p>这个问题当时困扰了小编很久，经过一番盘查，终于解决。原来在IOS系统中，浏览器只支持给原生HTML按钮或<code>&lt;a&gt;</code>标签加JS事件。</p> <h2 id="在移动浏览器中给根元素（例如：html）添加overflow-hidden，只有在某些安卓自带浏览器（例如华为的自带浏览器）中才有效。"><a href="#在移动浏览器中给根元素（例如：html）添加overflow-hidden，只有在某些安卓自带浏览器（例如华为的自带浏览器）中才有效。" class="header-anchor">#</a> 在移动浏览器中给根元素（例如：<code>html</code>）添加<code>overflow:hidden</code>，只有在某些安卓自带浏览器（例如华为的自带浏览器）中才有效。</h2> <p><code>overflow:hidden</code>这个CSS样式是大家常用到的。大家用这个样式可以实现很多目的。其中一个常用的就是隐藏内容溢出，把浏览器的滚动条隐藏。这个在PC端浏览中毫无问题。但是除了少数安卓自带浏览器，在大多数移动浏览器中，给根元素（例如：<code>html</code>）添加这个样式就会失效。除非给根元素同时添加有实际数值的高度。为了适应移动端频幕的多种尺寸，只能运用JS动态获取视窗的高度，然后给根元素设置相同的高度，方可把移动浏览器的滚动条隐藏。</p> <h2 id="在某些安卓系统手机自带浏览器（例如：华为手机）中，当父级元素是弹性盒子布局时（含有-webkit-box-flex属性），其子元素的margin-bottom失效，不能撑开父级元素。"><a href="#在某些安卓系统手机自带浏览器（例如：华为手机）中，当父级元素是弹性盒子布局时（含有-webkit-box-flex属性），其子元素的margin-bottom失效，不能撑开父级元素。" class="header-anchor">#</a> 在某些安卓系统手机自带浏览器（例如：华为手机）中，当父级元素是弹性盒子布局时（含有<code>-webkit-box-flex</code>属性），其子元素的<code>margin-bottom</code>失效，不能撑开父级元素。</h2> <p>这个问题是小编在某个移动项目开发中碰到的。直接将外边距（margin）改为内边距(padding)就可解决。</p> <h2 id="在safari中使用date-parse-解析时间字符串，其格式必须是yyyy-mm-dd-hh-mm-ss。"><a href="#在safari中使用date-parse-解析时间字符串，其格式必须是yyyy-mm-dd-hh-mm-ss。" class="header-anchor">#</a> 在safari中使用<code>Date.parse()</code>解析时间字符串，其格式必须是YYYY/MM/DD HH:MM:SS。</h2> <blockquote><p><code>Date.parse()</code> 方法解析一个表示某个日期的字符串，并返回从1970-1-1 00:00:00 UTC 到该日期对象（该日期对象的UTC时间）的毫秒数，如果该字符串无法识别，或者一些情况下，包含了不合法的日期数值（如：2015-02-31），则返回值为NaN。</p></blockquote> <p>上述是JavaScript 参考文档的说明。严格来说，其解析的时间字符串必须是YYYY/MM/DD HH:MM:SS。但是，在IE、chrome、FF中，也可以解析YYYY-MM-DD HH:MM:SS或者YYYY.MM.DD HH:MM:SS这两种非标准格式的时间字符串。而safari只能解析标准格式。因此，开发人员在使用这个方法时，最好先把非标准格式转换成标准格式，这样就可以避免兼容问题。</p> <h2 id="在ios系统中h5播放器不支持自动播放。"><a href="#在ios系统中h5播放器不支持自动播放。" class="header-anchor">#</a> 在IOS系统中H5播放器不支持自动播放。</h2> <p>在iphone和ipad上用HTML5播放器时，不能自动播放，apple的解释说是为用户节省流量，我觉得这个考虑有点多余。</p> <p>当时为了解决这个问题，做了些调研，最好的方法就是在IOS系统的浏览器中给页面根元素绑定一次touchstart事件播放流媒体文件，模拟自动播放。</p> <h2 id="标准浏览器是只认识documentelement-scrolltop的，但chrome却不认识这个，在有文档声明时，chrome也只认识document-body-scrolltop。"><a href="#标准浏览器是只认识documentelement-scrolltop的，但chrome却不认识这个，在有文档声明时，chrome也只认识document-body-scrolltop。" class="header-anchor">#</a> 标准浏览器是只认识documentElement.scrollTop的，但chrome却不认识这个，在有文档声明时，chrome也只认识document.body.scrollTop。</h2> <p>document.body.scrollTop与document.documentElement.scrollTop两者有个特点，就是同时只会有一个值生效。比如document.body.scrollTop能取到值的时候，document.documentElement.scrollTop就会始终为0；反之亦然。所以，如果要得到网页的真正的scrollTop值，可以这样：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//第一种方法</span>
<span class="token keyword">var</span> scrollTop <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollTop<span class="token operator">+</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop<span class="token punctuation">;</span>

<span class="token comment">//第二种方法</span>
<span class="token keyword">var</span> scrollTop <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollTop <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">?</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollTop <span class="token operator">:</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop<span class="token punctuation">;</span>

<span class="token comment">//第三种方法</span>
<span class="token keyword">var</span> scrollTop <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollTop <span class="token operator">||</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop<span class="token punctuation">;</span>
</code></pre></div><p>任选上述其中一种方式都可以解决。</p> <h2 id="我们常说的事件处理时的event属性，在标准浏览器其是传入的，ie下由window-event获取的。并且获取目标元素的方法也不同，标准浏览器是event-target，而ie下是event-srcelement"><a href="#我们常说的事件处理时的event属性，在标准浏览器其是传入的，ie下由window-event获取的。并且获取目标元素的方法也不同，标准浏览器是event-target，而ie下是event-srcelement" class="header-anchor">#</a> 我们常说的事件处理时的event属性，在标准浏览器其是传入的，IE下由window.event获取的。并且获取目标元素的方法也不同，标准浏览器是event.target，而IE下是event.srcElement</h2> <p>具体参考《javascript高级程序设计(第三版)》</p></div> <!----> <hr> <!----></div> <div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#在ios8系统中，用h5与app通信不能传带有复杂链接符的字符串。" title="在ios8系统中，用h5与APP通信不能传带有复杂链接符的字符串。">在ios8系统中，用h5与APP通信不能传带有复杂链接符的字符串。</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#safari中伪元素不支持css3动画。" title="safari中伪元素不支持CSS3动画。">safari中伪元素不支持CSS3动画。</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#safari中当一个元素的高度为零时，下边的同级元素的上外边距会覆盖这个元素。" title="safari中当一个元素的高度为零时，下边的同级元素的上外边距会覆盖这个元素。">safari中当一个元素的高度为零时，下边的同级元素的上外边距会覆盖这个元素。</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#ios系统中在移动浏览器的页面中给按钮加js事件，其按钮必须是原生html按钮或者由-a-标签自定义构成。" title="ios系统中在移动浏览器的页面中给按钮加JS事件，其按钮必须是原生HTML按钮或者由&lt;a&gt;标签自定义构成。">ios系统中在移动浏览器的页面中给按钮加JS事件，其按钮必须是原生HTML按钮或者由&lt;a&gt;标签自定义构成。</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#在移动浏览器中给根元素（例如：html）添加overflow-hidden，只有在某些安卓自带浏览器（例如华为的自带浏览器）中才有效。" title="在移动浏览器中给根元素（例如：html）添加overflow:hidden，只有在某些安卓自带浏览器（例如华为的自带浏览器）中才有效。">在移动浏览器中给根元素（例如：html）添加overflow:hidden，只有在某些安卓自带浏览器（例如华为的自带浏览器）中才有效。</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#在某些安卓系统手机自带浏览器（例如：华为手机）中，当父级元素是弹性盒子布局时（含有-webkit-box-flex属性），其子元素的margin-bottom失效，不能撑开父级元素。" title="在某些安卓系统手机自带浏览器（例如：华为手机）中，当父级元素是弹性盒子布局时（含有-webkit-box-flex属性），其子元素的margin-bottom失效，不能撑开父级元素。">在某些安卓系统手机自带浏览器（例如：华为手机）中，当父级元素是弹性盒子布局时（含有-webkit-box-flex属性），其子元素的margin-bottom失效，不能撑开父级元素。</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#在safari中使用date-parse-解析时间字符串，其格式必须是yyyy-mm-dd-hh-mm-ss。" title="在safari中使用Date.parse()解析时间字符串，其格式必须是YYYY/MM/DD HH:MM:SS。">在safari中使用Date.parse()解析时间字符串，其格式必须是YYYY/MM/DD HH:MM:SS。</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#在ios系统中h5播放器不支持自动播放。" title="在IOS系统中H5播放器不支持自动播放。">在IOS系统中H5播放器不支持自动播放。</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#标准浏览器是只认识documentelement-scrolltop的，但chrome却不认识这个，在有文档声明时，chrome也只认识document-body-scrolltop。" title="标准浏览器是只认识documentElement.scrollTop的，但chrome却不认识这个，在有文档声明时，chrome也只认识document.body.scrollTop。">标准浏览器是只认识documentElement.scrollTop的，但chrome却不认识这个，在有文档声明时，chrome也只认识document.body.scrollTop。</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#我们常说的事件处理时的event属性，在标准浏览器其是传入的，ie下由window-event获取的。并且获取目标元素的方法也不同，标准浏览器是event-target，而ie下是event-srcelement" title="我们常说的事件处理时的event属性，在标准浏览器其是传入的，IE下由window.event获取的。并且获取目标元素的方法也不同，标准浏览器是event.target，而IE下是event.srcElement">我们常说的事件处理时的event属性，在标准浏览器其是传入的，IE下由window.event获取的。并且获取目标元素的方法也不同，标准浏览器是event.target，而IE下是event.srcElement</a></div></div></div></div> <footer class="footer" data-v-97b6647a><div class="footer-left-wrap" data-v-97b6647a><ul class="contact" data-v-97b6647a><li class="contact-item" data-v-97b6647a><a href="https://github.com/gaofei019" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-97b6647a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github" data-v-97b6647a><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" data-v-97b6647a></path></svg>
          
        </a></li></ul></div> <div class="footer-right-wrap" data-v-97b6647a><ul class="copyright" data-v-97b6647a><li class="copyright-item" data-v-97b6647a><a href="https://policies.google.com/privacy?hl=en-US" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-97b6647a>Privacy Policy</a></li><li class="copyright-item" data-v-97b6647a><a href="/blog/2017/05/26/browserling/.html" class="nav-link" data-v-97b6647a>MIT Licensed | Copyright © 2018-present Vue.js</a></li></ul></div></footer></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.c9f71c43.js" defer></script><script src="/blog/assets/js/4.6765512c.js" defer></script><script src="/blog/assets/js/5.a23d6b7f.js" defer></script><script src="/blog/assets/js/15.59ca7360.js" defer></script>
  </body>
</html>
